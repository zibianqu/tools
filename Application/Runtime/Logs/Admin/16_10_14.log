[ 2016-10-14T17:38:14+08:00 ] 127.0.0.1 /admin
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.002000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.

[ 2016-10-14T17:38:15+08:00 ] 127.0.0.1 /admin/login.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.011001s ]
INFO: [ template_filter ] --END-- [ RunTime:0.011001s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.060003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.060003s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.002000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.002000s ]

[ 2016-10-14T17:38:22+08:00 ] 127.0.0.1 /admin/login/dologin.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.023002s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::adminLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\LoginController.class.php 第 36 行.
SQL: SHOW COLUMNS FROM `admin` [ RunTime:0.0600s ]
SQL: SELECT * FROM `admin` WHERE `user` = 'admin' LIMIT 1   [ RunTime:0.0020s ]

[ 2016-10-14T17:38:22+08:00 ] 127.0.0.1 /admin/index.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.054003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.055003s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.002000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.003000s ]
INFO: [ app_end ] --END-- [ RunTime:0.003000s ]

[ 2016-10-14T17:38:24+08:00 ] 127.0.0.1 /admin/index/article.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001001s ]
INFO: [ app_init ] --END-- [ RunTime:0.002001s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.012001s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.052003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.054003s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001001s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003001s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.002000s ]

[ 2016-10-14T17:38:40+08:00 ] 127.0.0.1 /admin/index/SaveArticle.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003001s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::delete() should be compatible with Think\Model::delete($options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0140s ]
SQL: INSERT INTO `article` (`type`,`title`,`keyword`,`author`,`content`,`createtime`) VALUES ('0','PHP如何释放内存之unset销毁变量并释放内存详解','unset销毁变量','小兔','&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	PHP的unset()函数用来清除、销毁变量，不用的变量，我们可以用unset()将它销毁。但是某些时候，用unset()却无法达到销毁变量占用的内存！我们先看一个例子：
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\',255);   //产生由255个1组成的字符串
$m = memory_get_usage();    //获取当前占用内存
unset($s);
$mm = memory_get_usage();   //unset()后再查看当前占用内存
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;div style=&quot;margin:0px;padding:0px;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;div id=&quot;highlighter_261900&quot; class=&quot;syntaxhighlighter  php&quot; style=&quot;padding:0px;margin:0.5em 0px !important;font-size:1em !important;&quot;&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;span style=&quot;line-height:1.6em;&quot;&gt;最后输出unset()之前占用内存减去unset()之后占用内存，如果是正数，那么说明unset($s)已经将$s从内存中销毁(或者 说，unset()之后内存占用减少了)，可是我在PHP5和windows平台下，得到的结果是：-48。这是否可以说明，unset($s)并没有起 到销毁变量$s所占用内存的作用呢？我们再作下面的例子：&lt;/span&gt;
&lt;/p&gt;
&lt;div style=&quot;margin:0px;padding:0px;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;div id=&quot;highlighter_299905&quot; class=&quot;syntaxhighlighter  php&quot; style=&quot;padding:0px;margin:0.5em 0px !important;font-size:1em !important;&quot;&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\',256);   //产生由256个1组成的字符串
$m = memory_get_usage();    //获取当前占用内存
unset($s);
$mm = memory_get_usage();   //unset()后再查看当前占用内存
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	这个例子，和上面的例子几乎相同，唯一的不同是，$s由256个1组成，即比第一个例子多了一个1，得到结果是：224。这是否可以说明，unset($s)已经将$s所占用的内存销毁了？
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	通过上面两个例子，我们可以得出以下结论：
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;span style=&quot;text-decoration:underline;&quot;&gt;&lt;strong&gt;结论一、unset()函数只能在变量值占用内存空间超过256字节时才会释放内存空间。&lt;/strong&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	那么是不是只要变量值超过256，使用unset就可以释放内存空间呢？我们再通过一个例子来测试一下：
&lt;/p&gt;
&lt;div style=&quot;margin:0px;padding:0px;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;div id=&quot;highlighter_57584&quot; class=&quot;syntaxhighlighter  php&quot; style=&quot;padding:0px;margin:0.5em 0px !important;font-size:1em !important;&quot;&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\',256);       //这和第二个例子完全相同
$p = &amp;amp;$s;
$m = memory_get_usage();
unset($s);                      //销毁$s
$mm = memory_get_usage();
echo $p . \'&amp;lt;br /&amp;gt;\';
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;span&gt;刷新页面，我们看到第一行有256个1，第二行是-48，按理说我们已经销毁了$s，而$p只是引用$s的变量，应该是没有内容了，另外，unset($s)后内存占用却比unset()前增加了！现在我们再做以下的例子：&lt;/span&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\', 256);      //这和第二个例子完全相同
$p = &amp;amp;$s;
$m = memory_get_usage();
$s = null;                      //设置$s为null
$mm = memory_get_usage();
echo $p . \'&amp;lt;br /&amp;gt;\';
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;span&gt;现在刷新页面，我们看到，输出$p已经是没有内容了，unset()前后内存占用量之差是224，即已经清除了变量占用的内存。本例中的$s=null也可以换成unset()，如下：&lt;/span&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\', 256);      //这和第二个例子完全相同
$p = &amp;amp;$s;
$m = memory_get_usage();
unset($s);                      //销毁$s
unset($p);
$mm = memory_get_usage();
echo $p . \'&amp;lt;br /&amp;gt;\';
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;span&gt;我们将$s和$p都使用unset()销毁，这时再看内存占用量之差也是224，说明这样也可以释放内存。那么，我们可以得到另外一条结论：&lt;/span&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;span style=&quot;text-decoration:underline;&quot;&gt;&lt;strong&gt;结论二、只有当指向该变量的所有变量（如引用变量）都被销毁后，才会释放内存。&lt;/strong&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	相信经过本文的例子后，大家应该对unset()有所了解了，最起码，本人用unset()也是为了在变量不起作用时，释放内存。
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	原文地址：http://www.cnblogs.com/52php/p/5658322.html
&lt;/p&gt;','1476437920') [ RunTime:0.0220s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.000000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.002000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.049003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.051003s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.003000s ]

[ 2016-10-14T17:56:49+08:00 ] 127.0.0.1 /admin
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.029002s ]
INFO: [ view_parse ] --END-- [ RunTime:0.031002s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.002000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.003000s ]
INFO: [ app_end ] --END-- [ RunTime:0.003000s ]

[ 2016-10-14T17:56:53+08:00 ] 127.0.0.1 /admin/index/lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.001000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::delete() should be compatible with Think\Model::delete($options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0400s ]
NOTIC: [8] Undefined variable: arr D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 96 行.
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 0,10   [ RunTime:0.0040s ]
SQL: SELECT COUNT(*) AS tp_count FROM `article` LIMIT 1   [ RunTime:0.0690s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.086005s ]
INFO: [ view_parse ] --END-- [ RunTime:0.087005s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.008001s ]
INFO: [ app_end ] --END-- [ RunTime:0.009001s ]

[ 2016-10-14T17:56:56+08:00 ] 127.0.0.1 /admin/index/article/id/20.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.002000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.012001s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::delete() should be compatible with Think\Model::delete($options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0170s ]
SQL: SELECT * FROM `article` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0020s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.034002s ]
INFO: [ view_parse ] --END-- [ RunTime:0.034002s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.002000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.003000s ]
INFO: [ app_end ] --END-- [ RunTime:0.004000s ]

[ 2016-10-14T17:57:12+08:00 ] 127.0.0.1 /admin/index/SaveArticle.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.002000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::delete() should be compatible with Think\Model::delete($options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0180s ]
SQL: UPDATE `article` SET `type`='0',`title`='PHP如何释放内存之unset销毁变量并释放内存详解',`keyword`='unset销毁变量',`author`='小兔',`content`='&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	PHP的unset()函数用来清除、销毁变量，不用的变量，我们可以用unset()将它销毁。但是某些时候，用unset()却无法达到销毁变量占用的内存！我们先看一个例子：
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\',255);   //产生由255个1组成的字符串gfgdfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
$m = memory_get_usage();    //获取当前占用内存
unset($s);
$mm = memory_get_usage();   //unset()后再查看当前占用内存
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;div style=&quot;margin:0px;padding:0px;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;div id=&quot;highlighter_261900&quot; class=&quot;syntaxhighlighter  php&quot; style=&quot;padding:0px;margin:0.5em 0px !important;font-size:1em !important;&quot;&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;span style=&quot;line-height:1.6em;&quot;&gt;最后输出unset()之前占用内存减去unset()之后占用内存，如果是正数，那么说明unset($s)已经将$s从内存中销毁(或者 说，unset()之后内存占用减少了)，可是我在PHP5和windows平台下，得到的结果是：-48。这是否可以说明，unset($s)并没有起 到销毁变量$s所占用内存的作用呢？我们再作下面的例子：&lt;/span&gt; 
&lt;/p&gt;
&lt;div style=&quot;margin:0px;padding:0px;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;div id=&quot;highlighter_299905&quot; class=&quot;syntaxhighlighter  php&quot; style=&quot;padding:0px;margin:0.5em 0px !important;font-size:1em !important;&quot;&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\',256);   //产生由256个1组成的字符串
$m = memory_get_usage();    //获取当前占用内存
unset($s);
$mm = memory_get_usage();   //unset()后再查看当前占用内存
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	这个例子，和上面的例子几乎相同，唯一的不同是，$s由256个1组成，即比第一个例子多了一个1，得到结果是：224。这是否可以说明，unset($s)已经将$s所占用的内存销毁了？
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	通过上面两个例子，我们可以得出以下结论：
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;span style=&quot;text-decoration:underline;&quot;&gt;&lt;strong&gt;结论一、unset()函数只能在变量值占用内存空间超过256字节时才会释放内存空间。&lt;/strong&gt;&lt;/span&gt; 
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	那么是不是只要变量值超过256，使用unset就可以释放内存空间呢？我们再通过一个例子来测试一下：
&lt;/p&gt;
&lt;div style=&quot;margin:0px;padding:0px;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;div id=&quot;highlighter_57584&quot; class=&quot;syntaxhighlighter  php&quot; style=&quot;padding:0px;margin:0.5em 0px !important;font-size:1em !important;&quot;&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\',256);       //这和第二个例子完全相同
$p = &amp;amp;$s;
$m = memory_get_usage();
unset($s);                      //销毁$s
$mm = memory_get_usage();
echo $p . \'&amp;lt;br /&amp;gt;\';
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;span&gt;刷新页面，我们看到第一行有256个1，第二行是-48，按理说我们已经销毁了$s，而$p只是引用$s的变量，应该是没有内容了，另外，unset($s)后内存占用却比unset()前增加了！现在我们再做以下的例子：&lt;/span&gt; 
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\', 256);      //这和第二个例子完全相同
$p = &amp;amp;$s;
$m = memory_get_usage();
$s = null;                      //设置$s为null
$mm = memory_get_usage();
echo $p . \'&amp;lt;br /&amp;gt;\';
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;span&gt;现在刷新页面，我们看到，输出$p已经是没有内容了，unset()前后内存占用量之差是224，即已经清除了变量占用的内存。本例中的$s=null也可以换成unset()，如下：&lt;/span&gt; 
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;pre class=&quot;prettyprint lang-php&quot;&gt;&amp;lt;?php
$s = str_repeat(\'1\', 256);      //这和第二个例子完全相同
$p = &amp;amp;$s;
$m = memory_get_usage();
unset($s);                      //销毁$s
unset($p);
$mm = memory_get_usage();
echo $p . \'&amp;lt;br /&amp;gt;\';
echo $m-$mm;
?&amp;gt;&lt;/pre&gt;
&lt;span&gt;我们将$s和$p都使用unset()销毁，这时再看内存占用量之差也是224，说明这样也可以释放内存。那么，我们可以得到另外一条结论：&lt;/span&gt; 
&lt;p&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;span style=&quot;text-decoration:underline;&quot;&gt;&lt;strong&gt;结论二、只有当指向该变量的所有变量（如引用变量）都被销毁后，才会释放内存。&lt;/strong&gt;&lt;/span&gt; 
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	相信经过本文的例子后，大家应该对unset()有所了解了，最起码，本人用unset()也是为了在变量不起作用时，释放内存。
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;p style=&quot;font-family:&amp;quot;font-size:15px;background-color:#FFFFFF;&quot;&gt;
	原文地址：http://www.cnblogs.com/52php/p/5658322.html
&lt;/p&gt;',`createtime`='1476439032' WHERE `id` = 20 [ RunTime:0.0020s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.001000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.021001s ]
INFO: [ view_parse ] --END-- [ RunTime:0.022001s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003001s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.002000s ]

[ 2016-10-14T17:57:19+08:00 ] 127.0.0.1 /admin/index/article/id/20.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.004000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.006000s ]
NOTIC: [2048] Non-static method Admin\Model\AdminModel::isLogin() should not be called statically, assuming $this from incompatible context D:\WWW\tools\Application\Admin\Controller\IndexController.class.php 第 13 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::save() should be compatible with Think\Model::save($data = '', $options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
NOTIC: [2048] Declaration of Admin\Model\ArticleModel::delete() should be compatible with Think\Model::delete($options = Array) D:\WWW\tools\Application\Admin\Model\ArticleModel.class.php 第 101 行.
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0170s ]
SQL: SELECT * FROM `article` WHERE `id` = 20 LIMIT 1   [ RunTime:0.0020s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.005001s ]
INFO: [ template_filter ] --END-- [ RunTime:0.006001s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.083004s ]
INFO: [ view_parse ] --END-- [ RunTime:0.085004s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001001s ]
INFO: [ view_filter ] --END-- [ RunTime:0.002001s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.004000s ]

