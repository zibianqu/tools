[ 2017-05-15T16:43:08+08:00 ] 127.0.0.1 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.034002s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `statisticsip` [ RunTime:0.8200s ]
SQL: SELECT * FROM `statisticsip` WHERE `ip` = '127.0.0.1' AND `date` = 20170515 LIMIT 1   [ RunTime:0.0730s ]
SQL: INSERT INTO `statisticsip` (`ip`,`date`,`recordtime`) VALUES ('127.0.0.1','20170515','1494837786') [ RunTime:0.2510s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0420s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY id desc LIMIT 6   [ RunTime:0.1060s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY readnum desc,id desc LIMIT 6   [ RunTime:0.0670s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.020001s ]
INFO: [ template_filter ] --END-- [ RunTime:0.023001s ]
NOTIC: [8] Undefined variable: title D:\WWW\tools\Application\Runtime\Cache\Home\2a94b8bda04ff446dcedd42276fc99ee.php 第 56 行.
INFO: [ keyWords ] --START--
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0830s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 30   [ RunTime:0.0140s ]
INFO: Run Home\Behavior\KeyWordsBehavior [ RunTime:0.215012s ]
INFO: [ keyWords ] --END-- [ RunTime:0.218012s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.853049s ]
INFO: [ view_parse ] --END-- [ RunTime:0.855049s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.004000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.004000s ]

[ 2017-05-15T16:55:46+08:00 ] 127.0.0.1 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.004000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.007000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0110s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY id desc LIMIT 6   [ RunTime:0.0030s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY readnum desc,id desc LIMIT 6   [ RunTime:0.0020s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.003000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.006000s ]
NOTIC: [8] Undefined variable: title D:\WWW\tools\Application\Runtime\Cache\Home\2a94b8bda04ff446dcedd42276fc99ee.php 第 56 行.
INFO: [ keyWords ] --START--
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0050s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 30   [ RunTime:0.0010s ]
INFO: Run Home\Behavior\KeyWordsBehavior [ RunTime:0.067004s ]
INFO: [ keyWords ] --END-- [ RunTime:0.070004s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.227013s ]
INFO: [ view_parse ] --END-- [ RunTime:0.229013s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.005000s ]

[ 2017-05-15T16:55:51+08:00 ] 127.0.0.1 /art/article/id/30.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0080s ]
ERR: Redis server went away
NOTIC: [2] Cannot modify header information - headers already sent by (output started at D:\WWW\tools\Application\Home\Model\RedisModel.class.php:43) D:\WWW\tools\ThinkPHP\Library\Think\Think.class.php 第 228 行.
NOTIC: [2] Cannot modify header information - headers already sent by (output started at D:\WWW\tools\Application\Home\Model\RedisModel.class.php:43) D:\WWW\tools\ThinkPHP\Library\Think\Think.class.php 第 229 行.

[ 2017-05-15T16:56:54+08:00 ] 127.0.0.1 /art/article/id/30.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0110s ]
SQL: SELECT * FROM `article` WHERE `id` = 30 LIMIT 1   [ RunTime:0.0030s ]
NOTIC: [8] Use of undefined constant readNum - assumed 'readNum' D:\WWW\tools\Application\Home\Model\ArticleModel.class.php 第 146 行.
SQL: SELECT `id`,`title` FROM `article` WHERE ( id<30 and status=1 ) ORDER BY id desc LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT `id`,`title` FROM `article` WHERE ( id>30 and status=1 ) ORDER BY id asc LIMIT 1   [ RunTime:0.0000s ]
SQL: SELECT `id`,`title` FROM `article` WHERE ( id<>30 and status=1 and recom=1 ) ORDER BY id desc LIMIT 6   [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001001s ]
INFO: [ template_filter ] --END-- [ RunTime:0.003001s ]
NOTIC: [8] Undefined variable: title D:\WWW\tools\Application\Runtime\Cache\Home\f274c600cf8d13c9d31ff143ea08a211.php 第 45 行.
INFO: [ keyWords ] --START--
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0060s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 30   [ RunTime:0.0010s ]
INFO: Run Home\Behavior\KeyWordsBehavior [ RunTime:0.081004s ]
INFO: [ keyWords ] --END-- [ RunTime:0.084004s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.250015s ]
INFO: [ view_parse ] --END-- [ RunTime:0.252015s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.004000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.007000s ]

[ 2017-05-15T17:08:22+08:00 ] 127.0.0.1 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0170s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY id desc LIMIT 6   [ RunTime:0.0110s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY readnum desc,id desc LIMIT 6   [ RunTime:0.0060s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.002000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.004000s ]
NOTIC: [8] Undefined variable: title D:\WWW\tools\Application\Runtime\Cache\Home\2a94b8bda04ff446dcedd42276fc99ee.php 第 56 行.
INFO: [ keyWords ] --START--
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0050s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 30   [ RunTime:0.0010s ]
INFO: Run Home\Behavior\KeyWordsBehavior [ RunTime:0.110006s ]
INFO: [ keyWords ] --END-- [ RunTime:0.112006s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.286016s ]
INFO: [ view_parse ] --END-- [ RunTime:0.288016s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.007000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.009000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.007001s ]
INFO: [ app_end ] --END-- [ RunTime:0.011001s ]

[ 2017-05-15T17:08:25+08:00 ] 127.0.0.1 /art/lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0050s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 0,6   [ RunTime:0.0120s ]
SQL: SELECT COUNT(*) AS tp_count FROM `article` LIMIT 1   [ RunTime:0.0720s ]
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0050s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 20   [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.004000s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.230013s ]
INFO: [ view_parse ] --END-- [ RunTime:0.232013s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.004000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.003000s ]
INFO: [ app_end ] --END-- [ RunTime:0.006000s ]

[ 2017-05-15T17:15:19+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.007000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.010001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0080s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 6,6   [ RunTime:0.0090s ]

[ 2017-05-15T17:15:39+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0090s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 12,6   [ RunTime:0.0090s ]

[ 2017-05-15T17:15:43+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004001s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 18,6   [ RunTime:0.0020s ]

[ 2017-05-15T17:15:47+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004001s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0120s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 24,6   [ RunTime:0.0050s ]

[ 2017-05-15T17:15:51+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 30,6   [ RunTime:0.0050s ]

[ 2017-05-15T17:15:55+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 36,6   [ RunTime:0.0030s ]

[ 2017-05-15T17:15:58+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003001s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 42,6   [ RunTime:0.0030s ]

[ 2017-05-15T17:16:01+08:00 ] 127.0.0.1 /art/async_lists.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.004000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` ORDER BY id desc LIMIT 48,6   [ RunTime:0.0010s ]

[ 2017-05-15T17:21:51+08:00 ] 127.0.0.1 /art/lists.aspx?t=redis&c=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.005000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]

[ 2017-05-15T17:21:53+08:00 ] 127.0.0.1 /art/lists.aspx?t=redis&c=1
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.003001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.005001s ]
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0100s ]
SQL: SELECT * FROM `keywords` WHERE `name` = 'redis' LIMIT 1   [ RunTime:0.0270s ]
SQL: UPDATE `keywords` SET `name`='redis',`num`='2',`recordtime`='1494840112',`order`='20' WHERE `id` = 29 [ RunTime:0.0810s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` WHERE `title` LIKE '%redis%' OR `keyword` LIKE '%redis%' ORDER BY id desc LIMIT 0,6   [ RunTime:0.0210s ]
SQL: SELECT COUNT(*) AS tp_count FROM `article` WHERE `title` LIKE '%redis%' OR `keyword` LIKE '%redis%' LIMIT 1   [ RunTime:0.0010s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 20   [ RunTime:0.0010s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.023002s ]
INFO: [ template_filter ] --END-- [ RunTime:0.025002s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.220012s ]
INFO: [ view_parse ] --END-- [ RunTime:0.222012s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.004001s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.008000s ]

[ 2017-05-15T17:22:10+08:00 ] 127.0.0.1 /art/article/id/33.aspx
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.000000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` WHERE `id` = 33 LIMIT 1   [ RunTime:0.0020s ]
SQL: SELECT * FROM `article` WHERE `id` = 33 LIMIT 1   [ RunTime:0.0010s ]
SQL: UPDATE `article` SET `title`='Redis分布式中间件TwemProxy',`keyword`='redis,TwemProxy,',`content`='&lt;p style=&quot;font-family:Arial, Helvetica, San-serif;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	twemproxy,也叫nutcraker。是一个twtter开源的一个redis和memcache代理服务器。 redis作为一个高效的缓存服务器，非常具有应用价值。但是当使用比较多的时候，就希望可以通过某种方式 统一进行管理。避免每个应用每个客户端管理连接的松散性。同时在一定程度上变得可以控制。 搜索了不少的开源代理项目，知乎实现的python分片客户端。node的代理中间层，还有各种restfull的开源代理。
&lt;/p&gt;
&lt;p style=&quot;font-family:Arial, Helvetica, San-serif;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	&lt;br /&gt;
&lt;/p&gt;
&lt;ul style=&quot;font-family:Verdana, Arial, Helvetica, sans-serif;text-indent:5px;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	&lt;li&gt;
		&lt;p&gt;
			&lt;strong&gt;RedBrige&lt;/strong&gt; 
		&lt;/p&gt;
		&lt;ul&gt;
			&lt;li&gt;
				C + epoll实现的一个小的webserver
			&lt;/li&gt;
			&lt;li&gt;
				redis自身执行lua脚本的功能来执行redis命令
			&lt;/li&gt;
			&lt;li&gt;
				访问时在url中带上lua脚本文件的名字，直接调用执行该lua脚本
			&lt;/li&gt;
			&lt;li&gt;
				本质是通过http协议远程执行lua脚本&lt;br /&gt;
&lt;br /&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;
		&lt;p&gt;
			&lt;strong&gt;Webdis&lt;/strong&gt; 
		&lt;/p&gt;
		&lt;ul&gt;
			&lt;li&gt;
				libevent, http-parser...实现的小型web服务器
			&lt;/li&gt;
			&lt;li&gt;
				C 语言实现，通过unix-socket,TCP调用redis命令。
			&lt;/li&gt;
			&lt;li&gt;
				访问方法：&amp;nbsp;&amp;nbsp;/cmd/key/arg0,arg1,...&amp;nbsp;实质是对redis命令的简单变换&lt;br /&gt;
&lt;br /&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;
		&lt;p&gt;
			&lt;strong&gt;redis-proxy&lt;/strong&gt; 
		&lt;/p&gt;
		&lt;ul&gt;
			&lt;li&gt;
				使用node写的redis代理层。
			&lt;/li&gt;
			&lt;li&gt;
				支持主从节点的失败处理（可以仔细研究）
			&lt;/li&gt;
			&lt;li&gt;
				测试后发现性能为原生的1/3&lt;br /&gt;
&lt;br /&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;
		&lt;p&gt;
			&lt;strong&gt;twemproxy&lt;/strong&gt; 
		&lt;/p&gt;
		&lt;ul&gt;
			&lt;li&gt;
				&lt;p&gt;
					支持失败节点自动删除
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						可以设置重新连接该节点的时间
					&lt;/li&gt;
					&lt;li&gt;
						可以设置连接多少次之后删除该节点
					&lt;/li&gt;
					&lt;li&gt;
						该方式适合作为cache存储
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					支持设置HashTag
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						通过HashTag可以自己设定将两个KEYhash到同一个实例上去。
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					减少与redis的直接连接数
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						保持与redis的长连接
					&lt;/li&gt;
					&lt;li&gt;
						可设置代理与后台每个redis连接的数目
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					自动分片到后端多个redis实例上
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						多种hash算法（部分还没有研究明白)
					&lt;/li&gt;
					&lt;li&gt;
						可以设置后端实例的权重
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					避免单点问题
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						可以平行部署多个代理层.client自动选择可用的一个
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					支持redis pipelining request
				&lt;/p&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					支持状态监控
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						可设置状态监控ip和端口，访问ip和端口可以得到一个json格式的状态信息串
					&lt;/li&gt;
					&lt;li&gt;
						可设置监控信息刷新间隔时间
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
			&lt;li&gt;
				&lt;p&gt;
					高吞吐量
				&lt;/p&gt;
				&lt;ul&gt;
					&lt;li&gt;
						连接复用，内存复用。
					&lt;/li&gt;
					&lt;li&gt;
						将多个连接请求，组成reids pipelining统一向redis请求。&lt;br /&gt;
&lt;br /&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;
&lt;p style=&quot;font-family:Arial, Helvetica, San-serif;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	另外可以修改redis的源代码，抽取出redis中的前半部分，作为一个中间代理层。最终都是通过linux下的epoll 事件机制提高并发效率，其中nutcraker本身也是使用epoll的事件机制。并且在性能测试上的表现非常出色。
&lt;/p&gt;
&lt;p style=&quot;font-family:Arial, Helvetica, San-serif;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	配置部署建议: 编译时候打开logging模块。
&lt;/p&gt;
&lt;p style=&quot;font-family:Arial, Helvetica, San-serif;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	redis部署知识: AOF；一种记录redis写操作的文件，用于恢复redis数据。
&lt;/p&gt;
&lt;p style=&quot;font-family:Arial, Helvetica, San-serif;font-size:14px;background-color:#FFFFFF;&quot;&gt;
	来源：http://itindex.net/detail/51307-redis-%E4%B8%AD%E9%97%B4%E4%BB%B6-twemproxy
&lt;/p&gt;',`status`='1',`type`='0',`createtime`='1480592669',`author`='小兔',`imgurl`=NULL,`recom`='0',`readnum`='32' WHERE `id` = 33 [ RunTime:0.0210s ]
SQL: SELECT `id`,`title` FROM `article` WHERE ( id<33 and status=1 ) ORDER BY id desc LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT `id`,`title` FROM `article` WHERE ( id>33 and status=1 ) ORDER BY id asc LIMIT 1   [ RunTime:0.0010s ]
SQL: SELECT `id`,`title` FROM `article` WHERE ( id<>33 and status=1 and recom=1 ) ORDER BY id desc LIMIT 6   [ RunTime:0.0000s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.001000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.003000s ]
NOTIC: [8] Undefined variable: title D:\WWW\tools\Application\Runtime\Cache\Home\f274c600cf8d13c9d31ff143ea08a211.php 第 45 行.
INFO: [ keyWords ] --START--
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0050s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 30   [ RunTime:0.0010s ]
INFO: Run Home\Behavior\KeyWordsBehavior [ RunTime:0.092005s ]
INFO: [ keyWords ] --END-- [ RunTime:0.094005s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.203011s ]
INFO: [ view_parse ] --END-- [ RunTime:0.205011s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003001s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.006000s ]
INFO: [ app_end ] --END-- [ RunTime:0.009001s ]

[ 2017-05-15T17:27:23+08:00 ] 127.0.0.1 /
INFO: [ app_init ] --START--
INFO: Run Behavior\BuildLiteBehavior [ RunTime:0.001000s ]
INFO: [ app_init ] --END-- [ RunTime:0.003000s ]
INFO: [ app_begin ] --START--
INFO: Run Behavior\ReadHtmlCacheBehavior [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `article` [ RunTime:0.0100s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY id desc LIMIT 6   [ RunTime:0.0060s ]
SQL: SELECT * FROM `article` WHERE `status` = 1 ORDER BY readnum desc,id desc LIMIT 6   [ RunTime:0.0030s ]
INFO: [ view_parse ] --START--
INFO: [ template_filter ] --START--
INFO: Run Behavior\ContentReplaceBehavior [ RunTime:0.002000s ]
INFO: [ template_filter ] --END-- [ RunTime:0.005001s ]
NOTIC: [8] Undefined variable: title D:\WWW\tools\Application\Runtime\Cache\Home\2a94b8bda04ff446dcedd42276fc99ee.php 第 56 行.
INFO: [ keyWords ] --START--
SQL: SHOW COLUMNS FROM `keywords` [ RunTime:0.0060s ]
NOTIC: [2] Missing argument 1 for Think\Model::where(), called in D:\WWW\tools\Application\Home\Model\CommModel.class.php on line 46 and defined D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1797 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1805 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1808 行.
NOTIC: [8] Undefined variable: where D:\WWW\tools\ThinkPHP\Library\Think\Model.class.php 第 1816 行.
SQL: SELECT * FROM `keywords` ORDER BY `order` asc,num desc LIMIT 30   [ RunTime:0.0020s ]
INFO: Run Home\Behavior\KeyWordsBehavior [ RunTime:0.066004s ]
INFO: [ keyWords ] --END-- [ RunTime:0.068004s ]
INFO: Run Behavior\ParseTemplateBehavior [ RunTime:0.246014s ]
INFO: [ view_parse ] --END-- [ RunTime:0.248014s ]
INFO: [ view_filter ] --START--
INFO: Run Behavior\WriteHtmlCacheBehavior [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.003000s ]
INFO: [ app_end ] --START--
INFO: Run Behavior\ShowPageTraceBehavior [ RunTime:0.002000s ]
INFO: [ app_end ] --END-- [ RunTime:0.008000s ]

